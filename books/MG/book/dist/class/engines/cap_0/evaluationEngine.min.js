function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var formatedArtifacP2,timeStampInicio,_excluded=["isDebug","category","sections","chapter","evaluationModel","universidad","courseName","liceo","availabilityEndDate","availabilityStartDate"];function _objectWithoutProperties(t,e){if(null==t)return{};var n,r=_objectWithoutPropertiesLoose(t,e);if(Object.getOwnPropertySymbols)for(var a=Object.getOwnPropertySymbols(t),o=0;o<a.length;o++)n=a[o],e.includes(n)||{}.propertyIsEnumerable.call(t,n)&&(r[n]=t[n]);return r}function _objectWithoutPropertiesLoose(t,e){if(null==t)return{};var n,r={};for(n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,a,o,i,c=[],s=!0,l=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){l=!0,a=t}finally{try{if(!s&&null!=n.return&&(i=n.return(),Object(i)!==i))return}finally{if(l)throw a}}return c}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function ownKeys(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)),r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(n),!0).forEach(function(t){_defineProperty(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ownKeys(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _defineProperty(t,e,n){return(e=_toPropertyKey(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _toPropertyKey(t){t=_toPrimitive(t,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(t,e){if("object"!=_typeof(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0===n)return("string"===e?String:Number)(t);n=n.call(t,e||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){var n;if(t)return"string"==typeof t?_arrayLikeToArray(t,e):"Map"===(n="Object"===(n={}.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function _regeneratorRuntime(){_regeneratorRuntime=function(){return i};var s,i={},t=Object.prototype,l=t.hasOwnProperty,u=Object.defineProperty||function(t,e,n){t[e]=n.value},e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",n=e.asyncIterator||"@@asyncIterator",a=e.toStringTag||"@@toStringTag";function o(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{o({},"")}catch(s){o=function(t,e,n){return t[e]=n}}function c(t,e,n,r){var a,o,i,c,e=e&&e.prototype instanceof v?e:v,e=Object.create(e.prototype),r=new P(r||[]);return u(e,"_invoke",{value:(a=t,o=n,i=r,c=f,function(t,e){if(c===m)throw Error("Generator is already running");if(c===y){if("throw"===t)throw e;return{value:s,done:!0}}for(i.method=t,i.arg=e;;){var n=i.delegate;if(n){n=function t(e,n){var r=n.method,a=e.iterator[r];if(a===s)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=s,t(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),_;r=d(a,e.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,_;a=r.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=s),n.delegate=null,_):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,_)}(n,i);if(n){if(n===_)continue;return n}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(c===f)throw c=y,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);c=m;n=d(a,o,i);if("normal"===n.type){if(c=i.done?y:p,n.arg===_)continue;return{value:n.arg,done:i.done}}"throw"===n.type&&(c=y,i.method="throw",i.arg=n.arg)}})}),e}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}i.wrap=c;var f="suspendedStart",p="suspendedYield",m="executing",y="completed",_={};function v(){}function h(){}function g(){}var e={},b=(o(e,r,function(){return this}),Object.getPrototypeOf),b=b&&b(b(T([]))),w=(b&&b!==t&&l.call(b,r)&&(e=b),g.prototype=v.prototype=Object.create(e));function S(t){["next","throw","return"].forEach(function(e){o(t,e,function(t){return this._invoke(e,t)})})}function x(i,c){var e;u(this,"_invoke",{value:function(n,r){function t(){return new c(function(t,e){!function e(t,n,r,a){var o,t=d(i[t],i,n);if("throw"!==t.type)return(n=(o=t.arg).value)&&"object"==_typeof(n)&&l.call(n,"__await")?c.resolve(n.__await).then(function(t){e("next",t,r,a)},function(t){e("throw",t,r,a)}):c.resolve(n).then(function(t){o.value=t,r(o)},function(t){return e("throw",t,r,a)});a(t.arg)}(n,r,t,e)})}return e=e?e.then(t,t):t()}})}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function A(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function T(e){if(e||""===e){var n,t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return n=-1,(t=function t(){for(;++n<e.length;)if(l.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=s,t.done=!0,t}).next=t}throw new TypeError(_typeof(e)+" is not iterable")}return u(w,"constructor",{value:h.prototype=g,configurable:!0}),u(g,"constructor",{value:h,configurable:!0}),h.displayName=o(g,a,"GeneratorFunction"),i.isGeneratorFunction=function(t){t="function"==typeof t&&t.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},i.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,o(t,a,"GeneratorFunction")),t.prototype=Object.create(w),t},i.awrap=function(t){return{__await:t}},S(x.prototype),o(x.prototype,n,function(){return this}),i.AsyncIterator=x,i.async=function(t,e,n,r,a){void 0===a&&(a=Promise);var o=new x(c(t,e,n,r),a);return i.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},S(w),o(w,a,"Generator"),o(w,r,function(){return this}),o(w,"toString",function(){return"[object Generator]"}),i.keys=function(t){var e,n=Object(t),r=[];for(e in n)r.push(e);return r.reverse(),function t(){for(;r.length;){var e=r.pop();if(e in n)return t.value=e,t.done=!1,t}return t.done=!0,t}},i.values=T,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(A),!t)for(var e in this)"t"===e.charAt(0)&&l.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=s)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function t(t,e){return o.type="throw",o.arg=n,r.next=t,e&&(r.method="next",r.arg=s),!!e}for(var e=this.tryEntries.length-1;0<=e;--e){var a=this.tryEntries[e],o=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var i=l.call(a,"catchLoc"),c=l.call(a,"finallyLoc");if(i&&c){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!c)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&l.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var a=r;break}}var o=(a=a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc?null:a)?a.completion:{};return o.type=t,o.arg=e,a?(this.method="next",this.next=a.finallyLoc,_):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),_},finish:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),A(n),_}},catch:function(t){for(var e=this.tryEntries.length-1;0<=e;--e){var n,r,a=this.tryEntries[e];if(a.tryLoc===t)return"throw"===(n=a.completion).type&&(r=n.arg,A(a)),r}throw Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:T(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=s),_}},i}function asyncGeneratorStep(t,e,n,r,a,o,i){try{var c=t[o](i),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,a)}function _asyncToGenerator(c){return function(){var t=this,i=arguments;return new Promise(function(e,n){var r=c.apply(t,i);function a(t){asyncGeneratorStep(r,e,n,a,o,"next",t)}function o(t){asyncGeneratorStep(r,e,n,a,o,"throw",t)}a(void 0)})}}var globalPdf,userObjectVar,activeButtonScroll=!1,currentStep=1,imgUrl="undefined"==typeof Android?"/gateway/file/MG/ASS":"../../../assets",exams={model_1:{sections:[{artifacts:["artifact_2","artifact_9","artifact_17"]},{artifacts:["artifact_1","artifact_9","artifact_17","artifact_25"]}]},model_2:{sections:[{artifacts:["artifact_2","artifact_10","artifact_18"]},{artifacts:["artifact_2","artifact_10","artifact_18","artifact_26"]}]},model_3:{sections:[{artifacts:["artifact_3","artifact_11","artifact_19"]},{artifacts:["artifact_3","artifact_11","artifact_19","artifact_27"]}]},model_4:{sections:[{artifacts:["artifact_4","artifact_12","artifact_20"]},{artifacts:["artifact_4","artifact_12","artifact_20","artifact_28"]}]},model_5:{sections:[{artifacts:["artifact_5","artifact_13","artifact_21"]},{artifacts:["artifact_5","artifact_13","artifact_21","artifact_29"]}]},model_6:{sections:[{artifacts:["artifact_6","artifact_14","artifact_22"]},{artifacts:["artifact_7","artifact_15","artifact_23","artifact_31"]}]},model_7:{sections:[{artifacts:["artifact_7","artifact_15","artifact_23"]},{artifacts:["artifact_8","artifact_16","artifact_24","artifact_32"]}]},model_8:{sections:[{artifacts:["artifact_8","artifact_16","artifact_24"]},{artifacts:["artifact_8","artifact_16","artifact_24","artifact_32"]}]}},savedResults=[{id:"P1",name:"Intervalos",items:[{name:"R. en la recta ",value:0},{name:"R. algebraica",value:0}],tiempo:0,intentos:0},{id:"P2",name:"Intervalos",items:[{name:"R. en la recta ",value:0},{name:"R. algebraica",value:0}],tiempo:0,intentos:0},{id:"P3",name:"Intervalos",items:[{name:"R. en la recta ",value:0},{name:"N. de intervalos ",value:0}],tiempo:0,intentos:0},{id:"P4",name:"Plano Cartesiano",items:[0,0],tiempo:0,intentos:0},{id:"P5",name:"Plano Cartesiano",items:[0,0],tiempo:0,intentos:0},{id:"P6",name:"Plano Cartesiano",items:[0,0],tiempo:0,intentos:0},{id:"P7",name:"Plano Cartesiano",items:[0,0],tiempo:0,intentos:0}];function setPDF(){return _setPDF.apply(this,arguments)}function _setPDF(){return(_setPDF=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,n,r,a,o,i,c,s;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof Android)return t.abrupt("return",null);t.next=2;break;case 2:return e=window.jspdf.jsPDF,n=document.getElementById("mainContent"),t.next=6,html2canvas(n);case 6:return n=t.sent,r=n.toDataURL("image/png"),a=n.width,o=n.height,i=Math.min(210/a,297/o),c=new e,s=(210-a*i)/2,c.addImage(r,"PNG",s,10,a*i,o*i-20),t.abrupt("return",c);case 17:case"end":return t.stop()}},t)}))).apply(this,arguments)}function printPDF(t){return _printPDF.apply(this,arguments)}function _printPDF(){return(_printPDF=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n,r,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"undefined"!=typeof Android?Android.sendPdf():(n=(a=userObjectVar).chapter,r=a.firstName,a=a.surname,e.save("Evaluación_capítulo_".concat(n,"_").concat(r,"_").concat(a,".pdf")));case 1:case"end":return t.stop()}},t)}))).apply(this,arguments)}function EventsButtonScroll(){var t=document.querySelector("#buttonScroll");t.style.display="none",t.onclick=function(){window.scrollTo({top:0,behavior:"smooth"})},window.addEventListener("scroll",function(){activeButtonScroll&&20<window.scrollY?t.style.display="block":t.style.display="none"})}function evaluationBuilder(i){try{EventsButtonScroll();var t,e;if(null==i)return warningAlerts("No se declaro la información del usuario.","No se pudo cargar la evaluación."),!1;if(0<["opportunity","liceo","universidad","courseName","idUser","idExam","evaluationModel","firstName","secondName","surname","secondSurname","gender","email","userStartTime","userEndTime","result","availabilityStartDate","availabilityEndDate","chapter"].filter(function(t){return!(t in i)}).length)return warningAlerts("No se declararon todas las propiedades del usuario.","No se pudo cargar la evaluación."),!1;buildInformationCard(userObjectVar=i),document.querySelector("#mainContent").style.display="block",document.querySelector("#loading-container").style.display="none",0<i.result.length?(document.getElementById("middle-container").style.visibility="visible",document.getElementById("rules").style.display="none",currentStep=3,renderTableView(savedResults=i.result,i),document.getElementById("button-rules").textContent="Imprimir PDF"):(t=new Date,(e=document.querySelector(".information_card__body")).querySelector(".information_card__body__date")||e.insertAdjacentHTML("beforeend",'\n      <div class="information_card__body__date">\n      <p class="body__date__key">Fecha de presentación: </p>\n      <p class="body__date__value">'.concat(t.toLocaleDateString("es-ES"),"</p>\n      </div>")),document.querySelector("#middle-container").style.visibility="visible");var n=new Date;timeStampInicio=n.toISOString(),document.addEventListener("click",(()=>{var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){var n,r,a,o;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:"button-rules"!=e.target.id?t.next=31:1!=currentStep?t.next=12:(currentStep+=1,document.getElementById("rules").style.display="none",document.getElementById("evaluation-content").style.display="block",document.getElementById("button-rules").textContent="Enviar evaluación",generateArtifacts(i.evaluationModel),window.scrollTo(0,0),n=3,document.querySelectorAll(".defCartesian .check").forEach(function(t){t=t.closest("[data-artifact]")||t.closest('[id^="artifact_"]'),t=formatedArtifacP2[t.dataset.artifact].conditions.points;savedResults[n].items=t.map(function(t){return{value:0,name:"Coordenada: ("+t.text.replace("(","").replace(")","")+")"}}),n++}),t.next=28);break;case 12:if(2==currentStep)return t.next=15,setPDF();t.next=23;break;case 15:globalPdf=t.sent,(r=document.getElementById("modal")).style.display="flex",null!=(o=document.querySelector(".modal-content"))&&o.remove(),a=generateModal({father:r,img:{src:imgUrl+"/cap_0/warning.svg",class:"modal-header-image"},title:"¿Deseas enviar la evaluación?",text:"Una vez enviada la evaluación, no podrás realizar cambios.",firstButton:{text:"No",class:"button-cancel text-Azulado",onClick:function(){r.style.display="none",a.remove()}},secondButton:{text:"Sí",class:"button-continue",onClick:(()=>{var t=_asyncToGenerator(_regeneratorRuntime().mark(function t(){var e,n;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.remove(),t.next=3,executeSendSumary(savedResults,i);case 3:e=t.sent,"undefined"!=typeof Android||200==e.code?(currentStep++,modalPrevResults(i)):n=generateModal({father:r,img:{src:imgUrl+"/cap_0/warning.svg",class:"modal-header-image"},title:e.message,text:"¿Quieres intentarlo nuevamente?",secondButton:{text:"Reintentar",class:"button-continue",onClick:(()=>{var e=_asyncToGenerator(_regeneratorRuntime().mark(function t(e){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("Reintentando..."==e.target.innerText)return t.abrupt("return");t.next=2;break;case 2:return e.target.innerText="Reintentando...",t.next=5,executeSendSumary(savedResults,i);case 5:200!=t.sent.code?e.target.innerText="Reintentar":(currentStep++,n.remove(),modalPrevResults(i));case 7:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}})()},firstButton:{text:"Cancelar",class:"button-cancel text-Azulado",onClick:function(){n.remove(),document.getElementById("modal").style.display="none"}}});case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}})()}}),window.scrollTo(0,0),t.next=28;break;case 23:return t.next=25,setPDF();case 25:return o=t.sent,t.next=28,printPDF(o);case 28:seconds=0,t.next=32;break;case 31:"closeModal"!=e.target.id&&!e.target.classList.contains("no-button")||(document.getElementById("modal").style.display="none");case 32:case"end":return t.stop()}},t)}));return function(t){return e.apply(this,arguments)}})())}catch(t){console.log("error en evaluations",t),warningAlerts("Ha ocurrido un error","No se pudo cargar la evaluación.")}}function modalPrevResults(t){var e=generateModal({father:document.querySelector(".modal"),img:{src:imgUrl+"/cap_0/success.svg",class:"modal-header-image"},title:"¿Desea descargar el PDF de sus respuestas?",text:"Advertencia, no se podra descargar el PDF en otro momento...",firstButton:{text:"Descargar PDF",class:"action-button button-download text-Azulado",onClick:function(){currentStep+=1,document.getElementById("modal").style.display="none",e.remove(),userObjectVar=t,printPDF(globalPdf),"undefined"==typeof Android&&showTables(userObjectVar)}},secondButton:{text:"Continuar",class:"action-button button-continue",onClick:function(){currentStep+=1,document.getElementById("modal").style.display="none",e.remove(),showTables(t)}}})}function showTables(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:userObjectVar,e=document.getElementById("button-rules");"Imprimir PDF"!=e.textContent&&(e.textContent="Imprimir PDF",document.getElementById("evaluation-content").style.display="none",renderTableView(savedResults,t))}function generateArtifacts(t){var n,e=exams[t].sections[0].artifacts,t=exams[t].sections[1].artifacts,e=e.reduce(function(t,e){return def[e]&&(t[e]=def[e]),t},{}),t=t.reduce(function(t,e){return rDef[e]&&(t[e]=rDef[e]),t},{}),e=renameKeys(e),r=Object.keys(e).sort(function(t,e){return parseInt(t.split("_")[1])-parseInt(e.split("_")[1])}),r=r[r.length-1],r=parseInt(r.split("_")[1]),t=(formatedArtifacP2=renameKeys(t,r+1),generation(def=e),formatedArtifacP2.artifactHtml={datadefault:[{type:10,classGlobal:"defCartesian",contents:[{dataSet:{artifact:"artifact_4"}},{dataSet:{artifact:"artifact_5"}},{dataSet:{artifact:"artifact_6"}},{dataSet:{artifact:"artifact_7"}}]}]},generator(formatedArtifacP2),mainCartesian(defBoards,formatedArtifacP2),document.querySelector(".contenedorGrid"));t.classList.remove(".justify-content-center"),t.firstElementChild.classList.remove("justify-content-center"),document.querySelectorAll(".defCartesian , .artifacts").forEach(function(t){addArtifactHeader(t,t),t.addEventListener("click",function(t){var e;(t.target.closest("[data-artifact]")||t.target.closest('[id^="artifact_"]'))&&(e=t.target.closest("[data-artifact]")||t.target.closest('[id^="artifact_"]'),t.target.classList.contains("check"))&&(t.preventDefault(),n=handleValidation(e,formatedArtifacP2,def),index=savedResults.findIndex(function(t){return t.id===n.id}),e.parentNode.classList.contains("borderDefault")?e.parentNode.style.borderColor="yellow":e.style.borderColor="yellow",e.parentNode.classList.contains("borderDefault")?e.parentNode.style.borderWidth="medium":e.style.borderWidth="medium",-1!==index?(n.intentos=savedResults[index].intentos+1,savedResults[index]=n):savedResults.push(n))})})}function renameKeys(r){var a=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return Object.keys(r).sort(function(t,e){return parseInt(t.split("_")[1])-parseInt(e.split("_")[1])}).reduce(function(t,e,n){return t["artifact_".concat(a+n)]=r[e],t},{})}function initEvaluation(){if("undefined"==typeof Android)try{var t,e,n,r=null==(t=new URL(null!=(e=null==(n=document)?void 0:n.referrer)?e:""))?void 0:t.pathname,a=r.split("/")[r.split("/").length-1],o="evaluation.html"===a?"ConfigData":a;evaluationBuilder(JSON.parse(localStorage.getItem(o)))}catch(t){evaluationBuilder(JSON.parse(localStorage.getItem("configData"))),console.log("CATCH",t)}else console.log("android")}function handleValidation(r,a,t){var e=null,o=[],n="";if(r.classList.contains("defCartesian"))for(var n="Plano Cartesiano",i=a[r.dataset.artifact].conditions.points.length,e=r.dataset.artifact,c=0;c<i;c++)(e=>{var t=null==(t=a[r.dataset.artifact])||null==(t=t.conditions.points)||null==(t=t[e])?void 0:t.text,n=null==(n=Array.isArray(a[r.dataset.artifact].points)?a[r.dataset.artifact].points.filter(function(t){return t.input.rendNode.firstElementChild.getAttribute("index")==e})[0]:a[r.dataset.artifact].points.find(function(t){return t.input.rendNode.firstElementChild.getAttribute("index")==e}))||null==(n=n.input)||null==(n=n.rendNode)?void 0:n.firstElementChild;o.push({name:"Coordenada: ("+t.replace("(","").replace(")","")+")",value:null!=n&&n.classList.contains("passInLibrary")?1:0})})(c);else{n="Intervalos";var s=r.querySelector(".jxgbox:not([disabled])"),l=r.querySelector(".inpEngInt1:not([disabled])"),u=r.querySelector(".inpEngInt2:not([disabled])");e=r.id,null!=s&&o.push({name:"R. en la recta ",value:s.classList.contains("pass")?1:0}),null!=l&&o.push({name:"N. de intervalos ",value:null!=l&&l.classList.contains("pass")?1:0}),null!=u&&o.push({name:"R. algebraica ",value:u.classList.contains("pass")?1:0})}s=Array.isArray(savedResults)?savedResults.filter(function(t){return t.id=="P".concat(e.split("_")[1])})[0]:savedResults.find(function(t){return t.id=="P".concat(e.split("_")[1])});return console.log(seconds),u=(null!=(l=null==s?void 0:s.tiempo)?l:0)+seconds,seconds=0,{id:"P".concat(e.split("_")[1]),name:n,items:o,tiempo:u,intentos:1}}function executeSendSumary(t,e){return _executeSendSumary.apply(this,arguments)}function _executeSendSumary(){return(_executeSendSumary=_asyncToGenerator(_regeneratorRuntime().mark(function t(e,n){var r,a;return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(8==e.length&&e.pop(),r=new Date,r.getTime(),r=r.toISOString(),a=e.reduce(function(t,e){return t+e.items.reduce(function(t,e){return t+e.value},0)},0),e[e.length]={id:"NF",resultado:a},n.userStartTime=timeStampInicio,n.userEndTime=r,a=_objectWithoutProperties(n,_excluded),r=_objectSpread(_objectSpread({},a),{},{qualification:e[e.length-1].resultado,result:e}),"undefined"!=typeof Android&&"function"==typeof Android.sendExam)return Android.sendSummary(JSON.stringify(r)),t.abrupt("return",{code:200});t.next=15;break;case 15:if("function"==typeof sendSummary)return t.next=18,sendSummary(r);t.next=20;break;case 18:return a=t.sent,t.abrupt("return",a);case 20:case"end":return t.stop()}},t)}))).apply(this,arguments)}function renderTableView(t,e){activeButtonScroll=!0,t.pop();var n=document.getElementById("tables-container__main"),r=t.reduce(function(t,e){t.intentos+=e.intentos;var n=e.items.reduce(function(t,e){return t+e.value},0);return t.total+=e.items.length,t.note+=n,t.artifact.push({nameClass:"cursorPointer",name:"Artefacto ".concat(e.id.split("")[1]),value:n+"/"+e.items.length,onclick:function(){var t=document.querySelector("#"+e.id),t=null==t?void 0:t.offsetTop;t&&window.scrollTo({top:t-50,behavior:"smooth"})}}),t},{total:0,note:0,artifact:[],tiempo:0,intentos:0}),a=timeCalc(e.userStartTime,e.userEndTime),e=(createTables({father:n,cardTitle:"Resultado",intentos:r.intentos,tiempo:a,headers:["Artefacto","Nota"],rows:[].concat(_toConsumableArray(r.artifact),[{name:"Total",nameClass:"result__name",value:r.note+"/"+r.total,class:"result__row"}])}),t.forEach(function(t){createTables({father:n,tableId:t.id,cardTitle:"<div>Artefacto ".concat(t.id.split("")[1]," </div><div> ").concat(t.name,"</div>"),intentos:t.intentos,tiempo:t.tiempo,headers:["Items","Puntos"],rows:t.items})}),new Date(null!=(t=e.userEndTime)?t:"")),t=document.querySelector(".information_card__body");t.insertAdjacentHTML("afterbegin",'        <div class="information_card__body__note"><p>Nota: <span class="body__note__span">'.concat(r.note,'</span><span class="body__note__separator">|</span> Tiempo: ').concat((a/60).toFixed(2)," Min</p> </div>\n        ")),t.querySelector(".information_card__body__date")||t.insertAdjacentHTML("beforeend",'\n      <div class="information_card__body__date">\n      <p class="body__date__key">Fecha de presentación: </p>\n      <p class="body__date__value">'.concat(e.toLocaleDateString("es-ES"),"</p>\n      </div>")),maximo=(minimo=600<window.innerWidth?-90:-300,20)}function createTables(t){var e=t.father,n=t.tableId,r=t.cardTitle,a=t.rows,a=void 0===a?[]:a,o=t.headers,o=void 0===o?[]:o,i=t.intentos,t=t.tiempo,c=document.createElement("table"),s=(c.classList.add("table__class"),c.innerHTML='\n    <tr class="table__title"><td colspan="2">'.concat(r,'</td> </tr>\n    <tr class="table__headers">\n    <td>').concat(o.join("</td><td>"),"</td></tr>"),c.querySelector("tbody"));a.forEach(function(t){var e,n=document.createElement("tr");n.onclick=null!=(e=t.onclick)?e:null,n.classList.add(null!=(e=null==t?void 0:t.class)?e:"table__row"),n.innerHTML='\n            <td class="'.concat(null==t?void 0:t.nameClass,'"> ').concat(t.name,'</td>\n            <td class="').concat(null==t?void 0:t.valueClass,'" style="text-align:center">').concat(t.value,"</td>"),s.appendChild(n)}),s.insertAdjacentHTML("beforeend","\n      ".concat(void 0!==i?'<tr class="result__row">\n        <td class="result__name"> Intentos</td>\n            <td class="result__value" style="text-align:center">'.concat(i,"</td>\n        </tr>"):"","\n        ").concat(void 0!==i?'<tr class="result__row">\n        <td class="result__name"> Tiempo/Seg</td>\n            <td class="result__value" style="text-align:center">'.concat(t,"</td>\n        </tr>"):"","\n    ")),n&&c.setAttribute("id",n),e.appendChild(c)}function timeCalc(t,e){t=new Date(t),e=new Date(e);return(Math.abs(e.getTime()-t.getTime())/1e3).toFixed(2)}function addArtifactHeader(t,e){var e=(null==e?void 0:e.id)||(null==e?void 0:e.dataset.artifact),e=null==e?void 0:e.split("_")[1],n=document.createElement("div"),r=(n.classList.add("header-artifact-container"),document.createElement("span")),a=(r.style.float="left",r.textContent="Artef. 1",r.classList.add("question-header"),r.textContent="Artefacto ".concat(e),document.createElement("span"));a.style.float="right",a.textContent=4==e||6==e?"4 Pts":e<4?"2Pts":"3P ts",a.classList.add("oval-container"),n.appendChild(r),n.appendChild(a),!t.parentNode.classList.contains("borderDefault")&&"container-all-artifact"!=t.parentNode.id||(e=t.firstElementChild,t.insertBefore(n,e))}function warningAlerts(){var t,e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";"undefined"!=typeof Android?null!=(t=Android)&&t.showDialog("warning",n):((t=document.getElementById("modal")).style.display="flex",generateModal({father:t,img:{src:imgUrl+"/cap_0/warning.svg",class:"modal-header-image"},title:r,text:n,firstButton:{text:"Aceptar",onClick:(e=_asyncToGenerator(_regeneratorRuntime().mark(function t(){return _regeneratorRuntime().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:window.history.back();case 1:case"end":return t.stop()}},t)})),function(){return e.apply(this,arguments)})}}))}function generateModal(t){var e,n,r,a=t.father,o=t.title,o=void 0===o?"Titulo":o,i=t.text,i=void 0===i?"":i,c=t.header,s=t.firstButton,l=t.secondButton,u=t.modalClass,u=void 0===u?"modal-content":u;if(a)return t=_objectSpread({src:"",imgClass:"class"},t.img),n={imgRute:"",text:"",class:"action-button yes-button",onClick:null},s=[s?_objectSpread(_objectSpread({},n),s):null,l?_objectSpread(_objectSpread({},n),l):null],e=document.createElement("div"),u.split(" ").forEach(function(t){return e.classList.add(t)}),n=document.createElement("div"),c&&n.insertAdjacentHTML("afterbegin",c),n.insertAdjacentHTML("afterbegin",'<p class="titleModal">'.concat(o,"</p> ").concat(""!=i?"<p class='p-modal'>"+i+"</p>":""," ")),""!=t.src&&n.insertAdjacentHTML("afterbegin",imgUrl+"/cap_0/success.svg"==t.src?'<svg class="'.concat(t.class,'" xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48"><g fill="none" stroke="#7edc86" stroke-linejoin="round" stroke-width="4"><path d="M24 44a19.94 19.94 0 0 0 14.142-5.858A19.94 19.94 0 0 0 44 24a19.94 19.94 0 0 0-5.858-14.142A19.94 19.94 0 0 0 24 4A19.94 19.94 0 0 0 9.858 9.858A19.94 19.94 0 0 0 4 24a19.94 19.94 0 0 0 5.858 14.142A19.94 19.94 0 0 0 24 44Z"/><path stroke-linecap="round" d="m16 24l6 6l12-12"/></g></svg>'):'<svg class="'.concat(t.class,'" xmlns="http://www.w3.org/2000/svg" width="256" height="256" viewBox="0 0 256 256"><path fill="#f8bb86" d="M128 28a100 100 0 1 0 100 100A100.11 100.11 0 0 0 128 28m0 192a92 92 0 1 1 92-92a92.1 92.1 0 0 1-92 92m-4-84V80a4 4 0 0 1 8 0v56a4 4 0 0 1-8 0m12 36a8 8 0 1 1-8-8a8 8 0 0 1 8 8"/></svg>')),(r=document.createElement("div")).classList.add("button-container"),s.forEach(function(t){var e;t&&(e=document.createElement("button"),t.onClick&&(e.onclick=t.onClick),t.class.split(" ").forEach(function(t){return e.classList.add(t)}),e.innerHTML="".concat(""!=t.imgRute?'<img src="'.concat(t.imgRute,'">'):""," ").concat(t.text),r.appendChild(e))}),n.appendChild(r),e.appendChild(n),a.appendChild(e),e}function buildInformationCard(t){var e={Educacion_superior:"Educación universitaria",Educacion_media:"Educación media"},n=document.querySelector(".information_card>.information_card__body"),r=n.querySelector(".information_card__body__left"),n=n.querySelector(".information_card__body__right"),a={"Nombre y Apellido":t.firstName+" "+t.surname,Correo:t.email,"Capítulo":t.chapter,"Modelo de evaluación":t.evaluationModel.replace("model_","")},e={"Categoría":null===e?void 0:e[t.category],Curso:t.courseName,"Institución":t.universidad&&""!=t.universidad?t.universidad:t.liceo,"Sección":t.sections};r.innerHTML=Object.entries(a).map(function(t){var t=_slicedToArray(t,2),e=t[0],t=t[1];return'\n    <div class="info__text">\n    <p>\n    <span class="body__left__key">'.concat(e,':</span>\n    <span class="body__left__value">').concat(t,"</span>\n    </p>\n    </div>")}).join(""),n.innerHTML=Object.entries(e).map(function(t){var t=_slicedToArray(t,2),e=t[0],t=t[1];return'\n    <div class="info__text">\n    <p>\n    <span class="body__right__key">'.concat(e,':</span>\n    <span class="body__right__value">').concat(t,"</span>\n    </p>\n    </div>")}).join("")}